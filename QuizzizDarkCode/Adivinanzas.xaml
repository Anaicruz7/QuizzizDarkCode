<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="QuizzizDarkCode.Adivinanzas"
             Title="Adivinanzas">
    <Grid>

        <Image Source="kalo.jpg"
             Aspect="AspectFill"
             VerticalOptions="Fill"
             HorizontalOptions="Fill" />

        <ScrollView>
            <VerticalStackLayout Spacing="20" Padding="20">


                <Image Source="quiz_background.jpg"
             Aspect="AspectFill"
             VerticalOptions="Fill"
             HorizontalOptions="Fill" />

                <!-- Contador de preguntas -->
                <Label x:Name="lblContador"
                 Text="Pregunta 1 de 5"
                 FontSize="16"
                 HorizontalOptions="Center"
                 TextColor="Black"/>

                <!-- Pregunta -->
                <Frame BackgroundColor="Black" 
                 BorderColor="LightGray" 
                 CornerRadius="10"
                 Padding="20">
                    <Label x:Name="lblPregunta"
                     FontSize="22"
                     HorizontalOptions="Center"
                     HorizontalTextAlignment="Center"
                     TextColor="White"
                     LineBreakMode="WordWrap"/>
                </Frame>

                <!-- Opciones -->
                <VerticalStackLayout x:Name="OpcionesStack" Spacing="12">
                    <!-- Aquí se crearán los botones de opción -->
                </VerticalStackLayout>

                <!-- Botón siguiente -->
                <Button x:Name="btnSiguiente"
                  Text="Siguiente"
                  IsEnabled="False"
                  Clicked="btnSiguiente_Clicked_1"
                  HorizontalOptions="Center"
                  BackgroundColor="#007ACC"
                  TextColor="White"
                  FontSize="18"
                  CornerRadius="25"
                  WidthRequest="150"
                  HeightRequest="50"/>

                <!-- Pantalla de Resultados -->
                <VerticalStackLayout x:Name="ResultadosStack" 
                             IsVisible="False" 
                             Spacing="30"
                             Padding="20">

                    <!-- Título de resultados -->
                    <Label Text="¡Quizizz Completado!"
                     FontSize="28"
                     FontAttributes="Bold"
                     HorizontalOptions="Center"
                     TextColor="White"/>

                    <!-- Puntaje -->
                    <Frame BackgroundColor="#F0F8FF"
                     BorderColor="#007ACC"
                     CornerRadius="15"
                     Padding="20">
                        <VerticalStackLayout Spacing="10">
                            <Label x:Name="lblResultados"
                             FontSize="24"
                             FontAttributes="Bold"
                             HorizontalOptions="Center"
                             TextColor="Black"/>

                            <Label x:Name="lblPorcentaje"
                             FontSize="18"
                             HorizontalOptions="Center"
                             TextColor="Black"/>
                        </VerticalStackLayout>
                    </Frame>

                    <!-- Barra de progreso visual -->
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Tu progreso:"
                         FontSize="16"
                         HorizontalOptions="Center"
                         TextColor="White"/>

                        <Frame BackgroundColor="LightBlue"
                         BorderColor="White"
                         CornerRadius="15"
                         Padding="10">
                            <VerticalStackLayout x:Name="GraficaContainer" Spacing="0">
                                <!-- Aquí se creará la barra de progreso -->
                            </VerticalStackLayout>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Mensaje de felicitación -->
                    <Label x:Name="lblMensaje"
                     FontSize="16"
                     HorizontalOptions="Center"
                     HorizontalTextAlignment="Center"
                     TextColor="White"
                     LineBreakMode="WordWrap"/>

                    <!-- Botón reiniciar -->
                    <Button x:Name="btnReiniciar"
                      Text="Reiniciar Quizizz"
                      Clicked="btnReiniciar_Clicked"
                      HorizontalOptions="Center"
                      BackgroundColor="#28A745"
                      TextColor="White"
                      FontSize="18"
                      CornerRadius="25"
                      WidthRequest="180"
                      HeightRequest="50"/>

                </VerticalStackLayout>

                <StackLayout Spacing="20" Padding="10" HorizontalOptions="Start">
                    <ImageButton Source="celebro.png"
           WidthRequest="100"
            HeightRequest="100"
            Clicked="ImageButton_Clicked"/>
                </StackLayout>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>